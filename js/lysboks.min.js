function lysboks(e){"use strict";document.addEventListener("DOMContentLoaded",(function(){void 0===e&&((e={}).beholder=".bildegalleri",e.hastighet=200,e.lukk="ingen"),void 0===e.beholder&&(e.beholder=".bildegalleri"),void 0===e.hastighet&&(e.hastighet=200),void 0===e.lukk&&(e.lukk="ingen");let t=document.body,i=getComputedStyle(t).overflow,l=parseInt(getComputedStyle(t).marginRight.replace("px","")),n=window.innerWidth-document.documentElement.clientWidth,o=[];document.querySelectorAll(e.beholder+" a:has(>img)").forEach((function(e,i){if(u(e.getAttribute("href"))){const t=e.querySelector("img").getAttribute("title");o.push({stor:e.getAttribute("href"),liten:e.querySelector("img").getAttribute("src"),litenH:e.querySelector("img").getBoundingClientRect().height,litenW:e.querySelector("img").getBoundingClientRect().width,...null==t?{title:""}:{title:t}}),e.setAttribute("id","bilde"+i)}e.addEventListener("click",(function(i){u(e.getAttribute("href"))&&(i.preventDefault(),c(parseInt(e.getAttribute("id").match(/\d+/)[0],10)),document.querySelector("#lysboks").classList.replace("hide","show"),t.style.overflow="hidden",t.style.marginRight=l+n+"px")}))}));let r='\n        <div id="lysboks" class="hide" style="transition-duration:'+e.hastighet+'ms">\n            <div id="lysboksMain">\n                <div id="lysboksBildeWrapper">\n                    <div id="lysboksLeft"><svg viewBox="0 0 350 500" fill="#000000"><polygon points="350,100 250,0 0,250 250,500 350,400 200,250"></polygon></svg></div>\n                    <div id="lysboksBilde"><img></div>\n                    <div id="lysboksRight"><svg viewBox="0 0 350 500" fill="#000000"><polygon points="0,100 100,0 350,250 100,500 0,400 150,250"/></svg></div>\n                </div>\n                <div id="lysboksTooltip"></div>\n            </div>\n            <div id="miniatyrBilder">\n        ';for(let e=0;e<o.length;e++)r+='\n                <div data-target="'+e+'" data-bilde="'+o[e].stor+'" class="miniatyrBilde" id="miniatyrBilde'+e+'">\n                    <img src="'+o[e].liten+'" title="'+o[e].title+'">\n                </div>\n        ';r+="\n            </div>\n        </div>\n        ";let s=document.createElement("div");t.appendChild(s),s.outerHTML=r;let d=document.createElement("div");function c(t){!function(e){document.querySelector("#lysboksBilde img").setAttribute("src",o[e].stor),document.querySelector("#lysboksBilde img").setAttribute("title",o[e].title),document.querySelector("#lysboksTooltip").innerText=o[e].title,document.querySelector("#lysboksLeft").dataset.target=0===e?null:e-1;e>=o.length-1?document.querySelector("#lysboksRight").dataset.target=null:document.querySelector("#lysboksRight").dataset.target=e+1}(t),document.querySelector("#lysboksMain").style.transitionDuration=e.hastighet+"ms",document.querySelector("#lysboksMain").classList.remove("hide"),function(t){let i=document.querySelector("#miniatyrBilder"),l=document.querySelectorAll(".miniatyrBilde")[t];i.style.transitionDuration=e.hastighet+"ms",l.style.transitionDuration=e.hastighet+"ms";let n=window.innerWidth/2,o=i.getBoundingClientRect(),r=l.getBoundingClientRect(),s=o.left-r.left,d=r.width/2,c=s+n-d;i.scrollWidth>window.innerWidth&&(c>0?i.style.left="0px":c-window.innerWidth+i.scrollWidth<0?i.style.left="calc("+(-i.scrollWidth+window.innerWidth)+"px - .5vh)":i.style.left=c+"px");document.querySelectorAll(".miniatyrBilde").forEach((e=>{e.dataset.target==t?e.style.opacity="0.3":e.style.opacity="1"}))}(t)}function u(e){return null!==e.match(/\.(jpeg|jpg|gif|png)$/)}d.setAttribute("id","lysboksLukk"),d.innerHTML='<svg viewBox="0 0 500 500"><polygon points="0,100 100,0 250,150 400,0 500,100 350,250 500,400 400,500 250,350 100,500 0,400 150,250"/>',"bilde"===e.lukk?document.querySelector("#lysboksBilde").appendChild(d):"utenfor"===e.lukk&&document.querySelector("#lysboks").appendChild(d),document.querySelectorAll("#lysboks, #lysboksLukk").forEach((e=>{e.addEventListener("click",(function(e){e.currentTarget===e.target&&(document.querySelector("#lysboks").classList.replace("show","hide"),t.style.overflow=i,t.style.marginRight=l+"px")}),!1)})),document.querySelectorAll(".miniatyrBilde, #lysboksLeft, #lysboksRight").forEach((t=>{t.addEventListener("click",(function(i){let l=parseInt(t.dataset.target);document.querySelector("#lysboksMain").style.transitionDuration=e.hastighet/2+"ms",document.querySelector("#lysboksMain").classList.add("hide"),setTimeout((function(){c(l)}),e.hastighet/2)}))}))}))}